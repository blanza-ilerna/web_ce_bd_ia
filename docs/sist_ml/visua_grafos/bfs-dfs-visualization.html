<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algoritmos de B√∫squeda en Grafos | BFS & DFS</title>
    <script src="https://unpkg.com/d3@7.8.5/dist/d3.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500,600,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <div class="logo-header">
            <img src="img/ilerna-logo.svg" alt="iLERNA Logo" class="ilerna-logo">
        </div>
        <header>
            <h1>üîç Algoritmos de B√∫squeda en Grafos</h1>
            <p class="subtitle">Visualizaci√≥n interactiva de BFS (Anchura) y DFS (Profundidad)</p>
        </header>

        <!-- Visualizaci√≥n del Grafo - Ocupa todo el ancho -->
        <div class="graph-section">
            <div class="section-title">
                <span class="icon">üìä</span>
                Grafo de ejemplo
            </div>
            <div id="graph-container"></div>
            <div class="graph-footer">
                <div class="footer-left">
                    <div class="legend">
                        <div class="legend-item">
                            <div class="legend-dot default"></div>
                            <span>Sin visitar</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot queued" id="legendQueued"></div>
                            <span id="legendQueuedText">En cola</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot current-bfs" id="legendCurrent"></div>
                            <span>Nodo actual</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-dot visited"></div>
                            <span>Visitado</span>
                        </div>
                    </div>

                    <div class="visit-order-inline">
                        <div class="visit-order-label">‚úÖ Orden de visita:</div>
                        <div class="visit-order" id="visitOrder"></div>
                    </div>

                    <div class="data-structure-inline">
                        <div class="structure-header-inline">
                            <span class="structure-label">üóÉÔ∏è Estructura:</span>
                            <span class="structure-type bfs-type" id="structureType">Cola (FIFO)</span>
                            <span class="structure-indicator" id="structureIndicator">‚Üê Frente</span>
                        </div>
                        <div class="structure-items" id="structureItems"></div>
                    </div>
                </div>

                <div class="footer-right">
                    <div class="inline-controls">
                        <div class="controls">
                            <button class="control-btn primary" id="startBtn" onclick="startSearch()">
                                ‚ñ∂ Iniciar
                            </button>
                            <button class="control-btn" id="stepBtn" onclick="stepSearch()">
                                ‚è≠<br>Paso
                            </button>
                            <button class="control-btn" id="resetBtn" onclick="resetGraph()">
                                ‚Ü∫ Reset
                            </button>
                        </div>
                        <div class="speed-control" id="speedControl">
                            <label>Velocidad</label>
                            <input type="range" id="speedSlider" min="100" max="2000" value="800" onchange="updateSpeed()">
                        </div>
                    </div>

                    <div class="inline-progress">
                        <div class="step-counter">
                            <div class="label">Paso</div>
                            <span class="current" id="stepNumber">0</span>
                            <span class="total">/ <span id="totalSteps">0</span></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Algoritmo y Variantes - Layout horizontal -->
        <div class="algorithm-section">
            <div class="algorithm-row">
                <div class="algorithm-selector-horizontal">
                    <div class="section-label">‚öôÔ∏è Algoritmo:</div>
                    <button class="algo-btn bfs active" onclick="selectAlgorithm('bfs')">
                        BFS
                        <span class="algo-label">Anchura</span>
                    </button>
                    <button class="algo-btn dfs" onclick="selectAlgorithm('dfs')">
                        DFS
                        <span class="algo-label">Profundidad</span>
                    </button>
                </div>

                <div class="variants-selector-horizontal" id="bfsVariantPanel">
                    <div class="section-label">üîÄ Variante:</div>
                    <button class="variant-btn-h active" onclick="selectBFSVariant('standard')">Est√°ndar</button>
                    <button class="variant-btn-h" onclick="selectBFSVariant('levels')">Niveles</button>
                    <button class="variant-btn-h" onclick="selectBFSVariant('shortest-path')">Camino Corto</button>
                    <button class="variant-btn-h" onclick="selectBFSVariant('components')">Componentes</button>
                    <button class="variant-btn-h" onclick="selectBFSVariant('bidirectional')">Bidireccional</button>
                </div>

                <div class="variants-selector-horizontal hidden" id="dfsVariantPanel">
                    <div class="section-label">üîÄ Variante:</div>
                    <button class="variant-btn-h-dfs active" onclick="selectDFSVariant('iterative')">Iterativo</button>
                    <button class="variant-btn-h-dfs" onclick="selectDFSVariant('recursive')">Recursivo</button>
                    <button class="variant-btn-h-dfs" onclick="selectDFSVariant('timestamps')">Con Tiempos</button>
                    <button class="variant-btn-h-dfs" onclick="selectDFSVariant('cycle-detection')">Detecci√≥n Ciclos</button>
                    <button class="variant-btn-h-dfs" onclick="selectDFSVariant('topological')">Topol√≥gico</button>
                </div>
            </div>
        </div>

        <!-- Pseudoc√≥digo y Explicaci√≥n -->
        <div class="code-explanation-layout">
            <div class="panel pseudocode-panel">
                <div class="panel-title">üíª Pseudoc√≥digo</div>
                <div class="pseudocode" id="pseudocode">
                    <div class="line" data-line="1"><span class="keyword">BFS</span>(grafo, inicio):</div>
                    <div class="line" data-line="2">  cola ‚Üê [inicio]</div>
                    <div class="line" data-line="3">  visitados ‚Üê {inicio}</div>
                    <div class="line" data-line="4">  <span class="keyword">mientras</span> cola no vac√≠a:</div>
                    <div class="line" data-line="5">    nodo ‚Üê cola.<span class="keyword">extraer_frente()</span></div>
                    <div class="line" data-line="6">    procesar(nodo)</div>
                    <div class="line" data-line="7">    <span class="keyword">para cada</span> vecino de nodo:</div>
                    <div class="line" data-line="8">      <span class="keyword">si</span> vecino no en visitados:</div>
                    <div class="line" data-line="9">        visitados.a√±adir(vecino)</div>
                    <div class="line" data-line="10">        cola.<span class="keyword">a√±adir_final</span>(vecino)</div>
                </div>
            </div>

            <div class="panel explanation-panel">
                <div class="panel-title">üìñ Explicaci√≥n</div>
                <div class="algorithm-explanation" id="algorithmExplanation">
                    <h4>BFS Est√°ndar</h4>
                    <p>Recorre el grafo por niveles, visitando todos los vecinos de un nodo antes de pasar al siguiente nivel.</p>
                    <ul>
                        <li><strong>Estructura:</strong> Cola (FIFO - First In, First Out)</li>
                        <li><strong>Aplicaci√≥n:</strong> Exploraci√≥n b√°sica de grafos, encontrar todos los nodos alcanzables</li>
                        <li><strong>Complejidad:</strong> O(V + E) donde V son v√©rtices y E aristas</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Comparativa de algoritmos - Al final -->
        <div class="explanation-section">
            <div class="section-title">
                <span class="icon">üìö</span>
                Comparativa de algoritmos
            </div>
            <div class="algo-explanations">
                <div class="algo-card bfs-card">
                    <h3>üåä BFS - Breadth-First Search</h3>
                    <p><strong>B√∫squeda en Anchura:</strong> Explora todos los nodos vecinos del nivel actual antes de pasar al siguiente nivel.</p>
                    <span class="structure-badge">üì• Cola (FIFO)</span>

                    <h4 style="margin-top: 1rem; margin-bottom: 0.5rem; font-size: 0.9rem; color: #49B9CE;">Caracter√≠sticas Principales:</h4>
                    <ul>
                        <li>Encuentra el <strong>camino m√°s corto</strong> en grafos no ponderados</li>
                        <li>Ideal para encontrar nodos cercanos al origen</li>
                        <li>Explora "por capas" o niveles</li>
                    </ul>

                    <h4 style="margin-top: 1rem; margin-bottom: 0.5rem; font-size: 0.9rem; color: #49B9CE;">Variantes Implementadas:</h4>
                    <ul style="font-size: 0.8rem;">
                        <li><strong>Est√°ndar:</strong> Recorrido b√°sico por niveles</li>
                        <li><strong>Niveles:</strong> Mantiene informaci√≥n de distancia</li>
                        <li><strong>Camino Corto:</strong> Encuentra ruta √≥ptima entre dos nodos</li>
                        <li><strong>Componentes:</strong> Detecta componentes conexos</li>
                        <li><strong>Bidireccional:</strong> B√∫squeda desde ambos extremos</li>
                    </ul>

                    <div class="complexity">
                        <strong>Complejidad:</strong> O(V + E) tiempo | O(V) espacio
                    </div>
                </div>
                <div class="algo-card dfs-card">
                    <h3>üèä DFS - Depth-First Search</h3>
                    <p><strong>B√∫squeda en Profundidad:</strong> Explora tan lejos como sea posible por cada rama antes de retroceder.</p>
                    <span class="structure-badge">üìö Pila (LIFO)</span>

                    <h4 style="margin-top: 1rem; margin-bottom: 0.5rem; font-size: 0.9rem; color: #8A7AAF;">Caracter√≠sticas Principales:</h4>
                    <ul>
                        <li>√ötil para <strong>detectar ciclos</strong> en grafos</li>
                        <li>Base para ordenamiento topol√≥gico</li>
                        <li>Menor uso de memoria en grafos anchos</li>
                    </ul>

                    <h4 style="margin-top: 1rem; margin-bottom: 0.5rem; font-size: 0.9rem; color: #8A7AAF;">Variantes Implementadas:</h4>
                    <ul style="font-size: 0.8rem;">
                        <li><strong>Iterativo:</strong> Usa pila expl√≠cita (LIFO)</li>
                        <li><strong>Recursivo:</strong> Usa pila de llamadas del sistema</li>
                        <li><strong>Con Tiempos:</strong> Registra tiempos de descubrimiento/finalizaci√≥n</li>
                        <li><strong>Detecci√≥n Ciclos:</strong> Identifica ciclos usando colores</li>
                        <li><strong>Topol√≥gico:</strong> Orden topol√≥gico en DAGs</li>
                    </ul>

                    <div class="complexity">
                        <strong>Complejidad:</strong> O(V + E) tiempo | O(V) espacio
                    </div>
                </div>
            </div>
        </div>

        <footer>
            <div class="penguin">üêß</div>

            <div style="margin-bottom: 1.5rem;">
                <h3>iLERNA</h3>
                <p class="course-title">Curso de Especializaci√≥n en Inteligencia Artificial y Big Data</p>
                <a href="https://www.ilerna.es/" target="_blank">www.ilerna.es</a>
            </div>

            <p class="info-text">Centro oficial de FP online y presencial. Ciclos formativos de Grado Medio y Grado Superior.</p>
            <p class="info-text">Titulaciones 100% oficiales. ¬°Sin pruebas libres!</p>
        </footer>
    </div>

    <script src="js/graph-visualization.js"></script>
</body>
</html>
