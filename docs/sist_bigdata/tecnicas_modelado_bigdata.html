<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="T√©cnicas de Modelado en Big Data: Desnormalizaci√≥n Estrat√©gica y Series Temporales. Patrones avanzados para optimizar rendimiento.">
    <meta name="keywords"
        content="Big Data, Modelado de Datos, Desnormalizaci√≥n, Series Temporales, NoSQL, MongoDB, Bucket Pattern">
    <meta name="author" content="Bjlanza">
    <meta name="organization" content="ILERNA">
    <meta property="og:title" content="T√©cnicas de Modelado en Big Data | iLERNA">
    <meta property="og:description" content="Estrategias avanzadas de modelado de datos masivos">
    <meta property="og:type" content="article">
    <title>T√©cnicas de Modelado en Big Data | iLERNA</title>
    <link rel="stylesheet" href="../css/lecciones.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>
</head>

<body>
    <header>
        <div class="header-container">
            <div class="logo-container">
                <a href="../index.html">
                    <img src="../img/logo-ilerna.svg" alt="Logo iLERNA">
                </a>
                <div class="logo-text">
                    iLERNA
                    <span>Curso de Especializaci√≥n en IA y Big Data</span>
                </div>
            </div>
            <div class="breadcrumb">
                <a href="../index.html">Inicio</a> ‚Ä∫
                <a href="index.html">Sistemas de Big Data</a> ‚Ä∫
                <span>T√©cnicas de Modelado</span>
            </div>
        </div>
        <h1 class="text-center">T√©cnicas de Modelado en Big Data</h1>
        <p class="subtitle text-center">Estrategias Avanzadas: Desnormalizaci√≥n y Series Temporales</p>
    </header>

    <!-- SECCI√ìN 1: INTRODUCCI√ìN -->
    <section class="section">
        <h2 class="section-title">Introducci√≥n al Modelado de Datos Masivos</h2>
        <p>
            El <strong>modelado de datos en Big Data</strong> representa un cambio paradigm√°tico respecto a las
            t√©cnicas tradicionales de bases de datos relacionales. Mientras que en sistemas convencionales priorizamos
            la normalizaci√≥n para eliminar redundancias y garantizar la integridad referencial, en entornos de datos
            masivos debemos replantearnos estos principios fundamentales.
        </p>
        <p>
            Las t√©cnicas de modelado modernas se adaptan a las caracter√≠sticas √∫nicas de Big Data: <strong>volumen
                extremo</strong> (petabytes de informaci√≥n), <strong>velocidad de procesamiento</strong> (millones de
            operaciones por segundo) y <strong>variedad de formatos</strong> (datos estructurados, semi-estructurados y
            no estructurados). Esta adaptaci√≥n nos lleva a dos estrategias fundamentales que exploraremos en
            profundidad.
        </p>

        <div class="highlight-box primary">
            <p class="tech-title">üåê Caso Real: Netflix</p>
            <p>
                Netflix procesa m√°s de <strong>500 mil millones de eventos diarios</strong> de visualizaci√≥n. Su
                arquitectura de datos utiliza t√©cnicas de desnormalizaci√≥n masiva en sus sistemas NoSQL (Cassandra) para
                servir recomendaciones personalizadas a 230+ millones de usuarios en menos de 100ms, imposible de lograr
                con modelos normalizados tradicionales.
            </p>
        </div>

        <h3 class="color-primary">Pilares del Modelado en Big Data</h3>
        <div class="grid-features">
            <div class="feature-card primary">
                <h4>üìä Optimizaci√≥n de Lectura</h4>
                <p>Priorizar velocidad de consulta sobre complejidad de escritura. En Big Data, las lecturas superan
                    escrituras en ratio 100:1 o superior.</p>
            </div>
            <div class="feature-card secondary">
                <h4>‚ö° Distribuci√≥n Eficiente</h4>
                <p>Dise√±ar esquemas que minimicen transferencia de datos entre nodos. Cada JOIN distribuido puede
                    multiplicar latencia por 10x.</p>
            </div>
            <div class="feature-card primary">
                <h4>üîÑ Consistencia Eventual</h4>
                <p>Aceptar inconsistencias temporales a cambio de disponibilidad y tolerancia a particiones (Teorema CAP
                    en acci√≥n).</p>
            </div>
            <div class="feature-card secondary">
                <h4>üìà Escalabilidad Horizontal</h4>
                <p>Modelos que permiten a√±adir nodos linealmente sin reestructurar. Sharding inteligente basado en
                    patrones de acceso.</p>
            </div>
        </div>
    </section>

    <!-- SECCI√ìN 2: DESNORMALIZACI√ìN ESTRAT√âGICA -->
    <section class="section">
        <h2 class="section-title">üî∑ Desnormalizaci√≥n Estrat√©gica</h2>

        <h3 class="color-primary">1. Fundamentos y Filosof√≠a</h3>
        <p>
            La <strong>desnormalizaci√≥n estrat√©gica</strong> invierte conscientemente los principios de las formas
            normales (1NF, 2NF, 3NF, BCNF) establecidos por Edgar F. Codd en 1970. En lugar de dividir informaci√≥n en
            m√∫ltiples tablas relacionadas, consolidamos datos frecuentemente accedidos juntos en estructuras √∫nicas,
            aunque esto implique duplicaci√≥n controlada.
        </p>
        <p>
            Esta t√©cnica no es una <em>violaci√≥n</em> de buenas pr√°cticas, sino una <strong>adaptaci√≥n
                inteligente</strong> al contexto de sistemas distribuidos donde las operaciones JOIN representan uno de
            los mayores cuellos de botella. Un JOIN entre dos tablas de 100 millones de registros distribuidas en 50
            nodos puede requerir comunicaci√≥n masiva entre servidores, transformando una consulta de milisegundos en una
            operaci√≥n de minutos.
        </p>

        <!-- SVG: NORMALIZACI√ìN VS DESNORMALIZACI√ìN -->
        <div style="margin: 2rem 0;">
            <svg width="900" height="400" viewBox="0 0 900 400" class="diagram-svg">
                <text x="450" y="25" font-size="18" font-weight="bold" fill="#333333" text-anchor="middle"
                    font-family="Montserrat">Comparaci√≥n: Modelo Normalizado vs Desnormalizado</text>

                <!-- LADO IZQUIERDO: NORMALIZADO -->
                <text x="225" y="55" font-size="16" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                    font-family="Montserrat">MODELO NORMALIZADO (3NF)</text>

                <!-- Tabla Pedidos -->
                <rect x="50" y="70" width="350" height="100" fill="#F0EDF5" stroke="#8A7AAF" stroke-width="2" rx="8" />
                <text x="225" y="95" font-size="14" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                    font-family="Montserrat">Tabla: PEDIDOS</text>
                <line x1="50" y1="105" x2="400" y2="105" stroke="#8A7AAF" stroke-width="1" />
                <text x="60" y="125" font-size="12" fill="#333333" font-family="Courier New">pedido_id: 98765</text>
                <text x="60" y="145" font-size="12" fill="#333333" font-family="Courier New">usuario_id: 4521 ‚Üê FK
                </text>
                <text x="60" y="165" font-size="12" fill="#333333" font-family="Courier New">total: 156.80</text>

                <!-- Tabla Usuarios -->
                <rect x="50" y="190" width="350" height="80" fill="#F0EDF5" stroke="#8A7AAF" stroke-width="2" rx="8" />
                <text x="225" y="215" font-size="14" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                    font-family="Montserrat">Tabla: USUARIOS</text>
                <line x1="50" y1="225" x2="400" y2="225" stroke="#8A7AAF" stroke-width="1" />
                <text x="60" y="245" font-size="12" fill="#333333" font-family="Courier New">usuario_id: 4521</text>
                <text x="60" y="265" font-size="12" fill="#333333" font-family="Courier New">nombre: "Mar√≠a Gonz√°lez"
                </text>

                <!-- Tabla Items -->
                <rect x="50" y="290" width="350" height="80" fill="#F0EDF5" stroke="#8A7AAF" stroke-width="2" rx="8" />
                <text x="225" y="315" font-size="14" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                    font-family="Montserrat">Tabla: ITEMS_PEDIDO</text>
                <line x1="50" y1="325" x2="400" y2="325" stroke="#8A7AAF" stroke-width="1" />
                <text x="60" y="345" font-size="12" fill="#333333" font-family="Courier New">pedido_id: 98765 ‚Üê FK
                </text>
                <text x="60" y="365" font-size="12" fill="#333333" font-family="Courier New">producto_id: 777 ‚Üê FK
                </text>

                <!-- JOIN Icons -->
                <circle cx="225" cy="175" r="15" fill="#FF6B6B" opacity="0.9" />
                <text x="225" y="181" font-size="12" font-weight="bold" fill="white" text-anchor="middle"
                    font-family="Montserrat">JOIN</text>
                <circle cx="225" cy="280" r="15" fill="#FF6B6B" opacity="0.9" />
                <text x="225" y="286" font-size="12" font-weight="bold" fill="white" text-anchor="middle"
                    font-family="Montserrat">JOIN</text>

                <!-- LADO DERECHO: DESNORMALIZADO -->
                <text x="675" y="55" font-size="16" font-weight="bold" fill="#49B9CE" text-anchor="middle"
                    font-family="Montserrat">MODELO DESNORMALIZADO</text>

                <!-- Documento √∫nico -->
                <rect x="500" y="70" width="350" height="300" fill="#E8F7FA" stroke="#49B9CE" stroke-width="3" rx="8" />
                <text x="675" y="95" font-size="14" font-weight="bold" fill="#49B9CE" text-anchor="middle"
                    font-family="Montserrat">Documento √önico (JSON/NoSQL)</text>
                <line x1="500" y1="105" x2="850" y2="105" stroke="#49B9CE" stroke-width="1" />

                <text x="510" y="125" font-size="11" fill="#333333" font-family="Courier New">{ "pedido_id": 98765,
                </text>
                <text x="510" y="145" font-size="11" fill="#333333" font-family="Courier New"> "fecha": "2024-10-05",
                </text>
                <text x="510" y="165" font-size="11" fill="#333333" font-family="Courier New"> "total": 156.80,</text>
                <text x="510" y="185" font-size="11" fill="#49B9CE" font-weight="bold" font-family="Courier New">
                    "usuario": {</text>
                <text x="510" y="205" font-size="11" fill="#333333" font-family="Courier New"> "nombre": "Mar√≠a
                    Gonz√°lez",</text>
                <text x="510" y="225" font-size="11" fill="#333333" font-family="Courier New"> "email":
                    "maria@ejemplo.com"</text>
                <text x="510" y="245" font-size="11" fill="#333333" font-family="Courier New"> },</text>
                <text x="510" y="265" font-size="11" fill="#49B9CE" font-weight="bold" font-family="Courier New">
                    "items": [</text>
                <text x="510" y="285" font-size="11" fill="#333333" font-family="Courier New"> { "producto":
                    "Zapatillas",</text>
                <text x="510" y="305" font-size="11" fill="#333333" font-family="Courier New"> "cantidad": 2,</text>
                <text x="510" y="325" font-size="11" fill="#333333" font-family="Courier New"> "precio_unitario": 45.50
                    }</text>
                <text x="510" y="345" font-size="11" fill="#333333" font-family="Courier New"> ]</text>
                <text x="510" y="365" font-size="11" fill="#333333" font-family="Courier New">}</text>

                <!-- Checkmark -->
                <circle cx="675" cy="385" r="15" fill="#4CAF50" opacity="0.9" />
                <path d="M 670 385 L 673 388 L 680 381" stroke="white" stroke-width="2" fill="none" />
                <text x="700" y="390" font-size="11" fill="#4CAF50" font-weight="bold" font-family="Montserrat">1
                    OPERACI√ìN</text>

                <!-- Comparison -->
                <text x="450" y="390" font-size="13" fill="#FF6B6B" font-weight="bold" text-anchor="middle"
                    font-family="Montserrat">3 JOINs ‚ö†Ô∏è Lento</text>
            </svg>
        </div>

        <h3 class="color-secondary mt-2">2. An√°lisis de Ventajas y Compromisos</h3>

        <div class="grid-characteristics">
            <div class="card primary">
                <h4>‚úÖ Ventajas Clave</h4>
                <ul>
                    <li><strong>Rendimiento extremo:</strong> Eliminaci√≥n de JOINs reduce latencia 10-100x</li>
                    <li><strong>Simplicidad de consulta:</strong> Una sola operaci√≥n obtiene toda la informaci√≥n</li>
                    <li><strong>Escalabilidad horizontal:</strong> Sin dependencias entre nodos</li>
                    <li><strong>Cacheo eficiente:</strong> Toda la informaci√≥n en un solo registro</li>
                    <li><strong>Reducci√≥n de tr√°fico:</strong> Menos comunicaci√≥n inter-servidor</li>
                </ul>
            </div>

            <div class="card secondary">
                <h4>‚ö†Ô∏è Compromisos</h4>
                <ul>
                    <li><strong>Redundancia de datos:</strong> Mayor espacio de almacenamiento requerido</li>
                    <li><strong>Consistencia compleja:</strong> Actualizar datos duplicados es costoso</li>
                    <li><strong>Anomal√≠as de actualizaci√≥n:</strong> Riesgo de inconsistencias temporales</li>
                    <li><strong>Escrituras m√°s lentas:</strong> M√∫ltiples ubicaciones a actualizar</li>
                    <li><strong>Dificultad en cambios de esquema:</strong> Migrar estructuras es complejo</li>
                </ul>
            </div>
        </div>

        <div class="highlight-box secondary">
            <h4 class="color-secondary">üéØ Criterios de Decisi√≥n: ¬øCu√°ndo Desnormalizar?</h4>
            <div class="grid-characteristics">
                <div class="card">
                    <p style="font-weight: 700; color: #49B9CE; margin-bottom: 0.5rem;">Ratio Lectura/Escritura</p>
                    <p style="font-size: 0.9rem;">Si lecturas > 20x escrituras, desnormalizar es rentable</p>
                </div>
                <div class="card">
                    <p style="font-weight: 700; color: #49B9CE; margin-bottom: 0.5rem;">Datos Estables</p>
                    <p style="font-size: 0.9rem;">Informaci√≥n que cambia raramente (categor√≠as, pa√≠ses)</p>
                </div>
                <div class="card">
                    <p style="font-weight: 700; color: #49B9CE; margin-bottom: 0.5rem;">Consultas Frecuentes</p>
                    <p style="font-size: 0.9rem;">Queries repetitivas con mismo patr√≥n de JOIN</p>
                </div>
                <div class="card">
                    <p style="font-weight: 700; color: #49B9CE; margin-bottom: 0.5rem;">Baja Volatilidad</p>
                    <p style="font-size: 0.9rem;">Datos hist√≥ricos que no se modifican</p>
                </div>
            </div>
        </div>

        <h3 class="color-primary mt-2">3. Implementaci√≥n Pr√°ctica en MongoDB</h3>
        <p>
            Veamos un ejemplo concreto de c√≥mo implementar desnormalizaci√≥n en un sistema de e-commerce usando
            <strong>MongoDB</strong>, base de datos NoSQL orientada a documentos. Compararemos el enfoque normalizado
            tradicional con su versi√≥n desnormalizada optimizada.
        </p>

        <h4 class="color-secondary">‚ùå Enfoque Tradicional (Normalizado - SQL)</h4>
        <p style="margin-bottom: 1rem;">Requiere m√∫ltiples consultas o JOINs costosos:</p>

        <pre><code class="language-json">{
  "TABLA_PEDIDOS": {
    "pedido_id": 98765,
    "usuario_id": 4521,
    "fecha": "2024-10-05",
    "total": 156.80,
    "estado": "enviado"
  },

  "TABLA_USUARIOS": {
    "usuario_id": 4521,
    "nombre": "Mar√≠a Gonz√°lez",
    "email": "maria@ejemplo.com",
    "direccion_id": 8844
  },

  "TABLA_ITEMS": [
    {
      "item_id": 1,
      "pedido_id": 98765,
      "producto_id": 777,
      "cantidad": 2,
      "precio_unitario": 45.50
    }
  ],

  "TABLA_PRODUCTOS": {
    "producto_id": 777,
    "nombre": "Zapatillas Running Pro",
    "categoria": "Calzado Deportivo",
    "marca": "Nike"
  }
}</code></pre>

        <div class="prediction-box">
            <p style="color: #856404;">‚ö†Ô∏è PROBLEMA: Obtener el pedido completo requiere 4 consultas o 3 JOINs (pedidos
                ‚ãà usuarios ‚ãà items ‚ãà productos)</p>
        </div>

        <h4 class="color-primary mt-2">‚úÖ Enfoque Optimizado (Desnormalizado - MongoDB)</h4>
        <p style="margin-bottom: 1rem;">Una sola consulta obtiene toda la informaci√≥n necesaria:</p>

        <pre><code class="language-json">{
  "_id": ObjectId("6720f4e5a1b2c3d4e5f67890"),
  "pedido_id": 98765,
  "fecha": "2024-10-05T14:30:00Z",
  "total": 156.80,
  "estado": "enviado",
  "moneda": "EUR",

  // INFORMACI√ìN DEL USUARIO EMBEBIDA (desnormalizada)
  "usuario": {
    "usuario_id": 4521,
    "nombre": "Mar√≠a Gonz√°lez",
    "email": "maria@ejemplo.com",
    "telefono": "+34 600 123 456",
    "direccion_envio": {
      "calle": "Av. Diagonal 123",
      "ciudad": "Barcelona",
      "codigo_postal": "08018",
      "pais": "Espa√±a"
    },
    "nivel_fidelidad": "Gold",
    "puntos_acumulados": 1250
  },

  // ITEMS CON DETALLES DE PRODUCTO EMBEBIDOS
  "items": [
    {
      "item_id": 1,
      "producto_id": 777,
      "nombre_producto": "Zapatillas Running Pro",
      "descripcion": "Zapatillas profesionales con tecnolog√≠a Air",
      "categoria": "Calzado Deportivo",
      "marca": "Nike",
      "talla": "42",
      "color": "Negro/Rojo",
      "cantidad": 2,
      "precio_unitario": 45.50,
      "descuento_aplicado": 0.10,
      "subtotal": 81.90
    }
  ],

  // INFORMACI√ìN DE ENV√çO
  "envio": {
    "transportista": "DHL Express",
    "codigo_seguimiento": "DHL987654321ES",
    "fecha_estimada": "2024-10-08",
    "costo_envio": 5.99
  }
}</code></pre>

        <div class="prediction-box">
            <p class="tech-output" style="color: #155724;">‚úÖ VENTAJA: Una sola consulta
                db.pedidos.findOne({pedido_id: 98765}) obtiene TODA la informaci√≥n instant√°neamente (< 5ms)</p>
        </div>

        <div class="highlight-box">
            <h5 class="color-primary">üîç Consulta en MongoDB (JavaScript)</h5>
            <pre><code class="language-json">// Obtener pedido completo con UNA operaci√≥n
const pedido = await db.pedidos.findOne({ pedido_id: 98765 });

// Toda la informaci√≥n disponible inmediatamente
console.log(pedido.usuario.nombre);              // "Mar√≠a Gonz√°lez"
console.log(pedido.items[0].nombre_producto);    // "Zapatillas Running Pro"
console.log(pedido.envio.codigo_seguimiento);    // "DHL987654321ES"
console.log(pedido.total);                       // 156.80

// Rendimiento: ~5ms vs ~500ms con JOINs en SQL</code></pre>
        </div>

        <div class="curiosity-box">
            <h4 class="color-warning">üè™ Caso de Estudio: Amazon</h4>
            <p>
                Amazon utiliza <strong>desnormalizaci√≥n masiva</strong> en su sistema de cat√°logo de productos. Cada
                producto almacena informaci√≥n completa de categor√≠as, fabricantes, y reviews directamente en el
                documento, permitiendo servir p√°ginas de producto en <strong>menos de 100ms</strong> a 300 millones de
                clientes.
            </p>
            <p><strong>Resultado:</strong> Sistema capaz de procesar 600+ transacciones por segundo en temporada alta
                (Black Friday) sin degradaci√≥n de rendimiento.</p>
        </div>
    </section>

    <!-- SECCI√ìN 3: SERIES TEMPORALES -->
    <section class="section">
        <h2 class="section-title">üî∂ Modelado de Series Temporales</h2>

        <h3 class="color-secondary">1. Definici√≥n y Caracter√≠sticas</h3>
        <p>
            Las <strong>series temporales</strong> (time series) son secuencias ordenadas de puntos de datos indexados,
            medidos o registrados en intervalos de tiempo sucesivos. Representan uno de los tipos de datos m√°s comunes
            en Big Data: desde m√©tricas de monitorizaci√≥n de servidores hasta cotizaciones burs√°tiles, datos de sensores
            IoT, registros de transacciones financieras o patrones de tr√°fico web.
        </p>
        <p>
            A diferencia de datos transaccionales tradicionales, las series temporales tienen <strong>propiedades
                √∫nicas</strong> que requieren t√©cnicas de modelado especializadas: inmutabilidad (los datos hist√≥ricos
            no cambian), ordenamiento cronol√≥gico estricto, volumen extremadamente alto (millones de puntos por segundo),
            y patrones de acceso predecibles (consultas por rangos de tiempo).
        </p>

        <!-- SVG: CARACTER√çSTICAS -->
        <svg width="900" height="300" viewBox="0 0 900 300" class="diagram-svg">
            <text x="450" y="25" font-size="18" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                font-family="Montserrat">Caracter√≠sticas de Series Temporales</text>

            <!-- Caracter√≠stica 1 -->
            <rect x="50" y="50" width="380" height="100" fill="#F0EDF5" stroke="#8A7AAF" stroke-width="2" rx="8" />
            <text x="240" y="75" font-size="14" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                font-family="Montserrat">üìä INMUTABILIDAD</text>
            <text x="240" y="100" font-size="12" fill="#555555" text-anchor="middle" font-family="Montserrat">Datos
                hist√≥ricos nunca cambian</text>
            <text x="240" y="120" font-size="11" fill="#555555" text-anchor="middle" font-family="Montserrat">Solo
                operaciones INSERT, raros UPDATE/DELETE</text>
            <text x="240" y="140" font-size="11" fill="#333333" font-weight="bold" text-anchor="middle"
                font-family="Courier New">Optimizaci√≥n: Append-only storage</text>

            <!-- Caracter√≠stica 2 -->
            <rect x="470" y="50" width="380" height="100" fill="#F0EDF5" stroke="#8A7AAF" stroke-width="2" rx="8" />
            <text x="660" y="75" font-size="14" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                font-family="Montserrat">‚è∞ ORDEN CRONOL√ìGICO</text>
            <text x="660" y="100" font-size="12" fill="#555555" text-anchor="middle" font-family="Montserrat">
                Timestamp como √≠ndice principal</text>
            <text x="660" y="120" font-size="11" fill="#555555" text-anchor="middle" font-family="Montserrat">Acceso
                secuencial por rangos de tiempo</text>
            <text x="660" y="140" font-size="11" fill="#333333" font-weight="bold" text-anchor="middle"
                font-family="Courier New">Optimizaci√≥n: Particionado temporal</text>

            <!-- Caracter√≠stica 3 -->
            <rect x="50" y="170" width="380" height="100" fill="#F0EDF5" stroke="#8A7AAF" stroke-width="2" rx="8" />
            <text x="240" y="195" font-size="14" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                font-family="Montserrat">üöÄ ALTO VOLUMEN</text>
            <text x="240" y="220" font-size="12" fill="#555555" text-anchor="middle" font-family="Montserrat">Millones
                de puntos por segundo</text>
            <text x="240" y="240" font-size="11" fill="#555555" text-anchor="middle" font-family="Montserrat">
                Crecimiento lineal continuo</text>
            <text x="240" y="260" font-size="11" fill="#333333" font-weight="bold" text-anchor="middle"
                font-family="Courier New">Optimizaci√≥n: Compresi√≥n especializada</text>

            <!-- Caracter√≠stica 4 -->
            <rect x="470" y="170" width="380" height="100" fill="#F0EDF5" stroke="#8A7AAF" stroke-width="2" rx="8" />
            <text x="660" y="195" font-size="14" font-weight="bold" fill="#8A7AAF" text-anchor="middle"
                font-family="Montserrat">üîç PATRONES PREDECIBLES</text>
            <text x="660" y="220" font-size="12" fill="#555555" text-anchor="middle" font-family="Montserrat">Queries
                frecuentes: √∫ltimas 24h, √∫ltima semana</text>
            <text x="660" y="240" font-size="11" fill="#555555" text-anchor="middle" font-family="Montserrat">
                Agregaciones: avg, max, min por per√≠odos</text>
            <text x="660" y="260" font-size="11" fill="#333333" font-weight="bold" text-anchor="middle"
                font-family="Courier New">Optimizaci√≥n: Pre-agregaci√≥n</text>
        </svg>

        <h3 class="color-secondary mt-2">2. Particionado Temporal Inteligente</h3>
        <p>
            El <strong>particionado por tiempo</strong> es la t√©cnica fundamental para gestionar eficientemente series
            temporales. Consiste en dividir los datos en segmentos basados en intervalos temporales (hora, d√≠a, semana,
            mes), permitiendo que las consultas accedan solo a las particiones relevantes sin escanear todo el
            hist√≥rico.
        </p>

        <div class="grid-characteristics">
            <div class="card secondary">
                <h4>‚è±Ô∏è Particionado por Hora</h4>
                <p style="margin-bottom: 0.75rem;">Para datos de alt√≠sima frecuencia</p>
                <pre style="background: #F0EDF5; padding: 0.75rem; border-radius: 0.5rem; font-size: 0.9rem;"><code>metrics_2024_10_05_14h
metrics_2024_10_05_15h</code></pre>
                <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Uso:</strong> Logs de servidores, m√©tricas
                    IoT</p>
            </div>

            <div class="card primary">
                <h4>üìÖ Particionado por D√≠a</h4>
                <p style="margin-bottom: 0.75rem;">Balance √≥ptimo para la mayor√≠a</p>
                <pre style="background: #E8F7FA; padding: 0.75rem; border-radius: 0.5rem; font-size: 0.9rem;"><code>transactions_2024_10_05
transactions_2024_10_06</code></pre>
                <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Uso:</strong> Transacciones, eventos web
                </p>
            </div>

            <div class="card secondary">
                <h4>üìÜ Particionado por Mes</h4>
                <p style="margin-bottom: 0.75rem;">Para vol√∫menes moderados</p>
                <pre style="background: #F0EDF5; padding: 0.75rem; border-radius: 0.5rem; font-size: 0.9rem;"><code>sales_2024_10
sales_2024_11</code></pre>
                <p style="font-size: 0.85rem; margin-top: 0.5rem;"><strong>Uso:</strong> Reportes mensuales, ventas
                </p>
            </div>
        </div>

        <h3 class="color-secondary mt-2">3. Estrategias de Retenci√≥n y Agregaci√≥n</h3>
        <p>
            Mantener datos hist√≥ricos con resoluci√≥n completa indefinidamente es <strong>inviable y costoso</strong>. La
            estrategia moderna implementa pol√≠ticas de retenci√≥n escalonada: datos recientes con m√°ximo detalle, datos
            antiguos con resoluciones progresivamente menores, y datos hist√≥ricos como res√∫menes agregados.
        </p>

        <div class="highlight-box secondary">
            <h4 class="color-secondary">üóÑÔ∏è Pol√≠tica de Retenci√≥n T√≠pica (Sistema de M√©tricas)</h4>
            <div class="grid-characteristics">
                <div class="card primary">
                    <p style="font-weight: 700; color: #49B9CE; margin-bottom: 0.5rem;">√öltimo Mes</p>
                    <p style="font-family: 'Courier New', monospace; margin-bottom: 0.3rem;">Resoluci√≥n: 1 segundo</p>
                    <p style="font-size: 0.85rem;">Detalle completo para an√°lisis inmediato</p>
                </div>

                <div class="card secondary">
                    <p style="font-weight: 700; color: #8A7AAF; margin-bottom: 0.5rem;">1-12 Meses</p>
                    <p style="font-family: 'Courier New', monospace; margin-bottom: 0.3rem;">Resoluci√≥n: 1 minuto</p>
                    <p style="font-size: 0.85rem;">Agregaci√≥n: avg, max, min por minuto</p>
                </div>

                <div class="card primary">
                    <p style="font-weight: 700; color: #49B9CE; margin-bottom: 0.5rem;">1-3 A√±os</p>
                    <p style="font-family: 'Courier New', monospace; margin-bottom: 0.3rem;">Resoluci√≥n: 1 hora</p>
                    <p style="font-size: 0.85rem;">Agregaci√≥n horaria para tendencias</p>
                </div>

                <div class="card secondary">
                    <p style="font-weight: 700; color: #8A7AAF; margin-bottom: 0.5rem;">+3 A√±os</p>
                    <p style="font-family: 'Courier New', monospace; margin-bottom: 0.3rem;">Resoluci√≥n: 1 d√≠a</p>
                    <p style="font-size: 0.85rem;">Solo res√∫menes diarios/mensuales</p>
                </div>
            </div>

            <div class="prediction-box">
                <p style="text-align: center; font-weight: 600;">
                    üìâ <strong>Reducci√≥n de almacenamiento:</strong> De 10 TB (datos crudos) a 500 GB (con pol√≠tica de
                    retenci√≥n) = <strong>95% ahorro</strong>
                </p>
            </div>
        </div>

        <h3 class="color-secondary mt-2">4. Bucket Pattern para IoT (MongoDB)</h3>
        <p>
            El <strong>patr√≥n Bucket</strong> (cubo) es una t√©cnica avanzada para almacenar series temporales de alta
            frecuencia. En lugar de crear un documento por cada lectura de sensor, agrupamos m√∫ltiples lecturas en
            "cubos" temporales (por ejemplo, todas las lecturas de una hora). Esto reduce dr√°sticamente el n√∫mero de
            documentos y mejora el rendimiento.
        </p>

        <h4 style="color: #FF6B6B; margin-bottom: 0.75rem;">‚ùå Enfoque Ineficiente (Sin Bucket)</h4>
        <p style="margin-bottom: 0.75rem;">Un documento por cada lectura ‚Üí 3,600 documentos/hora ‚Üí Ineficiente</p>

        <pre><code class="language-json">// PROBLEMA: 1 documento por segundo
{
  "sensor_id": "temp_sensor_001",
  "timestamp": "2024-10-07T10:00:00Z",
  "temperatura": 22.5,
  "humedad": 65
}
{
  "sensor_id": "temp_sensor_001",
  "timestamp": "2024-10-07T10:00:01Z",
  "temperatura": 22.6,
  "humedad": 65
}
// ... 3,598 documentos m√°s solo para 1 hora
// Total: 86,400 documentos/d√≠a por sensor ‚ùå</code></pre>

        <div class="prediction-box">
            <p style="color: #856404;">‚ö†Ô∏è PROBLEMA: Millones de documentos peque√±os ‚Üí Overhead de √≠ndices, consultas
                lentas, desperdicio de espacio</p>
        </div>

        <h4 style="color: #4CAF50; margin-bottom: 0.75rem; margin-top: 2rem;">‚úÖ Bucket Pattern Optimizado</h4>
        <p style="margin-bottom: 0.75rem;">Agrupa 3,600 lecturas en un documento ‚Üí Solo 24 documentos/d√≠a ‚Üí
            <strong>3,600x m√°s eficiente</strong></p>

        <pre><code class="language-json">{
  "sensor_id": "temp_sensor_001",
  "fecha": "2024-10-07",
  "hora_inicio": "10:00:00",
  "hora_fin": "10:59:59",
  "num_lecturas": 3600,

  // Array con TODAS las lecturas de la hora
  "lecturas": [
    {
      "offset_segundos": 0,
      "temp": 22.5,
      "humedad": 65
    },
    {
      "offset_segundos": 1,
      "temp": 22.6,
      "humedad": 65
    }
    // ... 3,598 lecturas m√°s
  ],

  // Pre-calculamos estad√≠sticas
  "estadisticas": {
    "temp_min": 21.8,
    "temp_max": 23.4,
    "temp_promedio": 22.6,
    "humedad_promedio": 65.3
  }
}

// RESULTADO: Solo 24 documentos/d√≠a en lugar de 86,400
// Reducci√≥n: 3,600√ó menos documentos ‚úÖ</code></pre>

        <div class="prediction-box">
            <p class="tech-output" style="color: #155724;">‚úÖ VENTAJAS: Menos √≠ndices, consultas instant√°neas,
                estad√≠sticas pre-calculadas, 95% menos espacio en disco</p>
        </div>

        <div class="highlight-box">
            <h5 class="color-secondary">üîç Consulta Optimizada con Bucket Pattern</h5>
            <pre><code class="language-json">// Obtener temperatura promedio de las √∫ltimas 24 horas
const stats = await db.sensor_data.aggregate([
  {
    $match: {
      sensor_id: "temp_sensor_001",
      fecha: {
        $gte: new Date("2024-10-07"),
        $lte: new Date("2024-10-08")
      }
    }
  },
  {
    $group: {
      _id: null,
      temp_media_24h: { $avg: "$estadisticas.temp_promedio" },
      temp_max_24h: { $max: "$estadisticas.temp_max" }
    }
  }
]);

// Solo escanea 24 documentos vs 86,400 ‚Üí 3,600x m√°s r√°pido
// Tiempo de ejecuci√≥n: ~15ms vs ~5,000ms sin buckets</code></pre>
        </div>

        <div class="curiosity-box">
            <h4 class="color-warning">üöó Caso de Estudio: Tesla Telemetr√≠a</h4>
            <p>
                Tesla recopila datos de telemetr√≠a de su flota global (1.5+ millones de veh√≠culos) generando
                <strong>m√°s de 1 petabyte de datos diarios</strong>. Utilizan bucket pattern con agregaci√≥n temporal:
                cada veh√≠culo env√≠a cubos de 1 minuto con cientos de m√©tricas (velocidad, bater√≠a, temperatura, sensores
                Autopilot).
            </p>
            <p><strong>Arquitectura:</strong></p>
            <ul>
                <li>Datos crudos (1s): Retenidos 7 d√≠as para debugging</li>
                <li>Buckets (1min): Retenidos 3 meses para an√°lisis detallado</li>
                <li>Agregaciones (1h): Retenidos 2 a√±os para tendencias</li>
                <li>Res√∫menes diarios: Hist√≥rico completo indefinido</li>
            </ul>
            <p><strong>Resultado:</strong> Sistema capaz de entrenar modelos de Autopilot con datos de miles de millones
                de kil√≥metros conducidos.</p>
        </div>
    </section>

    <!-- SECCI√ìN 4: COMPARACI√ìN Y MEJORES PR√ÅCTICAS -->
    <section class="section">
        <h2 class="section-title" style="text-align: center;">üìä Comparaci√≥n y Mejores Pr√°cticas</h2>

        <div style="overflow-x: auto; margin-bottom: 2rem;">
            <table class="styled-table">
                <thead>
                    <tr>
                        <th>Aspecto</th>
                        <th style="text-align: center;">Desnormalizaci√≥n</th>
                        <th style="text-align: center;">Series Temporales</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td style="font-weight: 700;">Objetivo Principal</td>
                        <td style="text-align: center;">Eliminar JOINs costosos</td>
                        <td style="text-align: center;">Optimizar consultas temporales</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 700;">Tipo de Datos</td>
                        <td style="text-align: center;">Transaccionales, relacionales</td>
                        <td style="text-align: center;">M√©tricas, eventos, logs</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 700;">Patr√≥n de Escritura</td>
                        <td style="text-align: center;">Actualizaciones frecuentes</td>
                        <td style="text-align: center;">Solo append (inmutable)</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 700;">Patr√≥n de Lectura</td>
                        <td style="text-align: center;">Acceso aleatorio por ID</td>
                        <td style="text-align: center;">Rangos temporales secuenciales</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 700;">Estrategia Clave</td>
                        <td style="text-align: center;">Duplicaci√≥n controlada</td>
                        <td style="text-align: center;">Particionado + agregaci√≥n</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 700;">Tecnolog√≠as</td>
                        <td style="text-align: center;">MongoDB, Cassandra, DynamoDB</td>
                        <td style="text-align: center;">InfluxDB, TimescaleDB, Prometheus</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 700;">Compresi√≥n</td>
                        <td style="text-align: center;">Est√°ndar (gzip, snappy)</td>
                        <td style="text-align: center;">Especializada temporal (10-20:1)</td>
                    </tr>
                    <tr>
                        <td style="font-weight: 700;">Casos de Uso</td>
                        <td style="text-align: center;">E-commerce, redes sociales</td>
                        <td style="text-align: center;">Monitorizaci√≥n, IoT, finanzas</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <h3 class="color-primary" style="text-align: center; margin-bottom: 1.5rem;">üéì Mejores Pr√°cticas Unificadas
        </h3>

        <div class="grid-features">
            <div class="feature-card primary">
                <h4>üéØ Modelar seg√∫n Patrones de Acceso</h4>
                <p style="margin-bottom: 1rem;">Dise√±a el esquema bas√°ndote en <strong>c√≥mo</strong> se consultan los
                    datos, no en c√≥mo se relacionan l√≥gicamente.</p>
                <ul>
                    <li>Analiza queries m√°s frecuentes (80/20)</li>
                    <li>Optimiza para el caso com√∫n, no el excepcional</li>
                    <li>Mide y ajusta iterativamente</li>
                </ul>
            </div>

            <div class="feature-card secondary">
                <h4>‚öñÔ∏è Balance Consistencia vs Rendimiento</h4>
                <p style="margin-bottom: 1rem;">Acepta <strong>consistencia eventual</strong> cuando la inmediatez no es
                    cr√≠tica para el negocio.</p>
                <ul>
                    <li>Lecturas 100x m√°s r√°pidas</li>
                    <li>Inconsistencias < 1 segundo t√≠picamente</li>
                    <li>Usa consistencia fuerte solo donde sea esencial</li>
                </ul>
            </div>

            <div class="feature-card primary">
                <h4>üì¶ Compresi√≥n y Almacenamiento Eficiente</h4>
                <p style="margin-bottom: 1rem;">Utiliza compresi√≥n especializada y tiered storage para gestionar
                    vol√∫menes masivos.</p>
                <ul>
                    <li>Datos calientes: SSD/NVMe (acceso < 1ms)</li>
                    <li>Datos tibios: HDD (acceso < 10ms)</li>
                    <li>Datos fr√≠os: Object storage S3 (acceso segundos)</li>
                </ul>
            </div>

            <div class="feature-card secondary">
                <h4>üîÑ Automatizaci√≥n de Retenci√≥n</h4>
                <p style="margin-bottom: 1rem;">Implementa pol√≠ticas autom√°ticas de agregaci√≥n y eliminaci√≥n de datos
                    antiguos.</p>
                <ul>
                    <li>TTL (Time To Live) autom√°tico por colecci√≥n</li>
                    <li>Jobs de agregaci√≥n programados (cron)</li>
                    <li>Archivado a cold storage configurable</li>
                </ul>
            </div>

            <div class="feature-card primary">
                <h4>üìä Monitorizaci√≥n y M√©tricas</h4>
                <p style="margin-bottom: 1rem;">Instrumenta tu sistema para tomar decisiones basadas en datos reales.
                </p>
                <ul>
                    <li>Latencias p50, p95, p99 de queries</li>
                    <li>Tasa de escritura/lectura por partici√≥n</li>
                    <li>Crecimiento de almacenamiento diario</li>
                </ul>
            </div>

            <div class="feature-card secondary">
                <h4>üõ°Ô∏è Planificaci√≥n de Escalabilidad</h4>
                <p style="margin-bottom: 1rem;">Dise√±a desde el inicio para crecer horizontalmente sin reestructurar.
                </p>
                <ul>
                    <li>Sharding key que distribuye uniformemente</li>
                    <li>Evita hot spots (particiones sobrecargadas)</li>
                    <li>Capacidad de a√±adir nodos sin downtime</li>
                </ul>
            </div>
        </div>

        <div class="highlight-box" style="text-align: center; margin-top: 2rem;">
            <h4 class="color-primary">üéØ Principio Fundamental</h4>
            <p style="font-size: 1.125rem; line-height: 1.7;">
                En Big Data, <strong>no existe un "modelo perfecto"</strong>. La excelencia est√° en <strong>adaptar
                    inteligentemente</strong> las t√©cnicas (desnormalizaci√≥n, particionado temporal, compresi√≥n,
                agregaci√≥n) seg√∫n las caracter√≠sticas espec√≠ficas de tus datos, patrones de acceso y requisitos de
                negocio. La clave es <em>medir, iterar y optimizar continuamente</em>.
            </p>
        </div>
    </section>

    <footer>
        <h3>iLERNA</h3>
        <p class="footer-course">Curso de Especializaci√≥n en Inteligencia Artificial y Big Data</p>
        <a href="https://www.ilerna.es/" target="_blank">www.ilerna.es</a>
        <p class="footer-info">Centro oficial de FP online y presencial. Ciclos formativos de Grado Medio y Grado
            Superior.</p>
        <p class="footer-info">Titulaciones 100% oficiales. ¬°Sin pruebas libres!</p>

        <div class="penguin">
            <span>üêß</span>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="../js/lecciones.js"></script>
    <script src="../js/copy-code.js"></script>
</body>

</html>
